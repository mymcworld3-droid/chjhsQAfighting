.page-section { display: none; }
.active-page { display: block; }
body { background-color: #0f172a; color: white; }

/* 載入動畫 */
.loader {
    border: 4px solid #f3f3f3;
    border-top: 4px solid #3498db;
    border-radius: 50%;
    width: 30px;
    height: 30px;
    animation: spin 1s linear infinite;
    margin: 20px auto;
}
@keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

/* 雷達掃描動畫 */
.radar-scan {
    width: 100px; height: 100px;
    background: radial-gradient(circle, rgba(59,130,246,0) 0%, rgba(59,130,246,0.2) 100%);
    border: 2px solid #3b82f6;
    border-radius: 50%;
    position: relative;
    animation: pulse 2s infinite;
}
.radar-line {
    width: 50%; height: 2px; background: #3b82f6;
    position: absolute; top: 50%; left: 50%;
    transform-origin: 0 0;
    animation: radar 2s linear infinite;
}
@keyframes radar { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
@keyframes pulse { 0% { box-shadow: 0 0 0 0 rgba(59, 130, 246, 0.4); } 70% { box-shadow: 0 0 0 20px rgba(59, 130, 246, 0); } 100% { box-shadow: 0 0 0 0 rgba(59, 130, 246, 0); } }

/* ⭐ 關鍵修改：全頁面底部留白 10rem (約 160px)，確保所有頁面都不會被擋住 */
.pb-safe { padding-bottom: 10rem !important; }

select {
    -webkit-appearance: none; -moz-appearance: none; appearance: none;
    background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='white' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e");
    background-repeat: no-repeat; background-position: right 1rem center; background-size: 1em;
}

.btn-correct { background-color: #22c55e !important; border-color: #22c55e !important; color: white !important; }
.btn-wrong { background-color: #ef4444 !important; border-color: #ef4444 !important; color: white !important; }
.btn-disabled { opacity: 0.6; pointer-events: none; }
.vs-avatar { width: 60px; height: 60px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 1.5rem; border: 3px solid; }

/* 鎖定時導航列變暗 */
.nav-locked { opacity: 0.3; pointer-events: none; filter: grayscale(100%); transition: all 0.3s; }
/* =========================================
   商店與頭像框系統
   ========================================= */

/* 頭像框基礎樣式 */
.avatar-frame {
    position: relative;
    box-sizing: border-box;
    transition: all 0.3s ease;
}

/* 1. 黃金框特效 */
.frame-gold {
    border: 4px solid #ffd700;
    box-shadow: 0 0 15px #ffd700, inset 0 0 10px #ffd700;
}

/* 2. 鑽石框特效 */
.frame-diamond {
    border: 4px solid #b9f2ff;
    box-shadow: 0 0 15px #00e5ff, 0 0 5px #fff;
    animation: shine 2s infinite;
}

/* 3. 火焰框特效 */
.frame-fire {
    border: 4px solid #ff4500;
    box-shadow: 0 0 20px #ff4500;
    animation: pulse-red 1.5s infinite;
}

/* 4. 彩虹框特效 (管理員/高級) */
.frame-rainbow {
    border: 4px solid transparent;
    background-image: linear-gradient(#1e293b, #1e293b), linear-gradient(to right, red, orange, yellow, green, blue, indigo, violet);
    background-origin: border-box;
    background-clip: content-box, border-box;
    animation: spin-border 3s linear infinite;
}

/* 動畫定義 */
@keyframes shine { 0% { opacity: 0.8; } 50% { opacity: 1; box-shadow: 0 0 25px #00e5ff; } 100% { opacity: 0.8; } }
@keyframes pulse-red { 0% { box-shadow: 0 0 0 0 rgba(255, 69, 0, 0.7); } 70% { box-shadow: 0 0 0 10px rgba(255, 69, 0, 0); } 100% { box-shadow: 0 0 0 0 rgba(255, 69, 0, 0); } }

/* 商店卡片 */
.store-card {
    background: rgba(30, 41, 59, 0.8);
    border: 1px solid #475569;
    border-radius: 12px;
    padding: 1rem;
    display: flex;
    flex-direction: column;
    align-items: center;
    transition: transform 0.2s;
}
.store-card:active { transform: scale(0.95); }

/* 已擁有/已裝備標籤 */
.badge-owned { background-color: #475569; color: #94a3b8; font-size: 0.7rem; padding: 2px 6px; border-radius: 4px; }
.badge-equipped { background-color: #22c55e; color: white; font-size: 0.7rem; padding: 2px 6px; border-radius: 4px; }
/* ... (保留原本的樣式) ... */

/* 新增：圖片頭像樣式 */
.avatar-img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: 50%;
}

/* 新增：管理後台的列表項目 */
.admin-item-row {
    display: flex;
    align-items: center;
    justify-content: space-between;
    background: rgba(30, 41, 59, 0.5);
    padding: 0.75rem;
    border-radius: 0.5rem;
    border: 1px solid #334155;
    margin-bottom: 0.5rem;
    transition: background 0.2s;
}
.admin-item-row:hover {
    background: rgba(30, 41, 59, 1);
    border-color: #64748b;
}

/* 新增：設定頁面的庫存 Grid */
.inventory-grid {
    display: grid;
    grid-template-cols: repeat(4, 1fr);
    gap: 0.5rem;
}
.inventory-item {
    aspect-ratio: 1/1;
    background: #1e293b;
    border-radius: 0.5rem;
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    border: 2px solid transparent;
    cursor: pointer;
}
.inventory-item.selected {
    border-color: #22c55e;
    background: #0f172a;
}
