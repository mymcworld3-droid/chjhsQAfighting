import React from 'react';
import { cn } from "@/lib/utils";

// æ¯å€‹ç­‰ç´šæ‰€éœ€çš„éšæ®µæ•¸
const stagesRequired = {
  bronze: 5,      // é’éŠ…: 5éš
  silver: 8,      // ç™½éŠ€: 8éš
  gold: 10,       // é»ƒé‡‘: 10éš
  platinum: 12,   // é‰‘é‡‘: 12éš
  diamond: 15,    // é‘½çŸ³: 15éš
  star: 20        // æ˜Ÿè€€: 20éš
};

const rankConfig = {
  bronze: { 
    label: 'é’éŠ…', 
    gradient: 'from-amber-600 to-amber-800',
    glow: 'shadow-amber-500/30',
    icon: 'ğŸ¥‰',
    maxStage: 5
  },
  silver: { 
    label: 'ç™½éŠ€', 
    gradient: 'from-slate-300 to-slate-500',
    glow: 'shadow-slate-400/30',
    icon: 'ğŸ¥ˆ',
    maxStage: 8
  },
  gold: { 
    label: 'é»ƒé‡‘', 
    gradient: 'from-yellow-400 to-yellow-600',
    glow: 'shadow-yellow-500/40',
    icon: 'ğŸ¥‡',
    maxStage: 10
  },
  platinum: { 
    label: 'é‰‘é‡‘', 
    gradient: 'from-cyan-300 to-cyan-500',
    glow: 'shadow-cyan-400/40',
    icon: 'ğŸ’',
    maxStage: 12
  },
  diamond: { 
    label: 'é‘½çŸ³', 
    gradient: 'from-blue-400 to-purple-500',
    glow: 'shadow-blue-500/50',
    icon: 'ğŸ’ ',
    maxStage: 15
  },
  star: { 
    label: 'æ˜Ÿè€€', 
    gradient: 'from-purple-500 via-pink-500 to-orange-400',
    glow: 'shadow-purple-500/50',
    icon: 'â­',
    maxStage: 20
  }
};

export default function RankBadge({ rank, stage, size = 'default' }) {
  const config = rankConfig[rank] || rankConfig.bronze;
  const maxStage = config.maxStage || 10;
  
  return (
    <div className={cn(
      "relative inline-flex items-center gap-2 rounded-full bg-gradient-to-r px-4 py-2",
      config.gradient,
      `shadow-lg ${config.glow}`,
      size === 'large' && "px-6 py-3 text-lg"
    )}>
      <span className={cn("text-xl", size === 'large' && "text-3xl")}>{config.icon}</span>
      <div className="flex flex-col">
        <span className="font-bold text-white tracking-wide">{config.label}</span>
        <span className="text-xs text-white/80">éšæ®µ {stage}/{maxStage}</span>
      </div>
    </div>
  );
}

export { rankConfig, stagesRequired };
